{% extends "base.html" %} {% block content %}

<!-- HERO SECTION: Diseño Minimalista de Pantalla Completa -->
<section class="py-5 vh-100 d-flex align-items-center bg-white">
  <div class="container-fluid px-5">
    <div class="row align-items-center">
      <!-- Columna de Texto -->
      <div class="col-lg-7">
        <h1 class="display-3 fw-bold text-dark mb-4" style="line-height: 1.1">
          Alquila lo que <br />
          necesites, cuando <br />
          lo necesites
        </h1>

        <p class="lead text-secondary mb-5 pe-lg-5">
          Conectamos personas que tienen objetos con quienes los necesitan
          temporalmente.
          <br />Fomentamos la economía circular y el consumo responsable.
        </p>

        <!-- Botones de Acción -->
        <div class="mt-4">
          {% if not current_user.is_authenticated %}
          <a
            href="{{ url_for('auth.register') }}"
            class="btn btn-main-action btn-lg text-white me-3 px-5 py-3 rounded-pill shadow-sm"
          >
            Comenzar Ahora <i class="fa-solid fa-arrow-right ms-2"></i>
          </a>
          <a
            href="{{ url_for('objetos.listar_objetos') }}"
            class="btn btn-outline-secondary btn-lg px-4 py-3 rounded-pill"
          >
            Ver Objetos
          </a>
          {% else %}
          <a
            href="{{ url_for('objetos.crear_objeto') }}"
            class="btn btn-main-action btn-lg text-white me-3 px-5 py-3 rounded-pill shadow-sm"
          >
            <i class="fa-solid fa-circle-plus"></i> Publicar Objeto
          </a>
          <a
            href="{{ url_for('objetos.listar_objetos') }}"
            class="btn btn-outline-secondary btn-lg px-4 py-3 rounded-pill"
          >
            <i class="fa-solid fa-magnifying-glass"></i> Explorar
          </a>
          {% endif %}
        </div>
      </div>

      <!-- Columna de Ilustración/Espacio -->
      <div class="col-lg-5 text-center d-none d-lg-block">
        <!-- Se podría agregar una ilustración SVG aquí para un toque moderno -->
        <i
          class="fa-solid fa-recycle"
          style="font-size: 10rem; color: #ced4da; opacity: 0.5"
        ></i>
      </div>
    </div>
  </div>
</section>

<!-- SECCIÓN: OBJETOS DESTACADOS (Galería de Tarjetas Profesionales) -->
<section class="py-5 bg-light">
  <div class="container">
    <h2 class="text-center mb-5 fw-bold">Descubre Objetos Cerca de Ti</h2>

    {% if objetos %}
    <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-4">
      {% for objeto in objetos %}
      <div class="col">
        <!-- Estilo de Tarjeta Mejorado -->
        <div
          class="card h-100 object-card border-0 shadow-sm rounded-3 overflow-hidden"
        >
          <div class="object-image-container">
            <img
              src="{{ objeto.imagen or 'https://via.placeholder.com/400x300/e9ecef/495057?text=Rentflow' }}"
              class="card-img-top"
              alt="{{ objeto.nombre }}"
              style="
                height: 200px;
                object-fit: cover;
                transition: transform 0.5s ease;
              "
            />
            <!-- Overlay para el estado -->
            <span
              class="badge text-bg-success position-absolute top-0 end-0 m-2 rounded-pill shadow-sm"
            >
              <i class="fa-solid fa-check-circle me-1"></i> Disponible
            </span>
          </div>

          <div class="card-body d-flex flex-column">
            <h5 class="card-title fw-bold text-truncate">
              {{ objeto.nombre }}
            </h5>
            <p class="card-text text-muted small mb-3">
              {{ objeto.descripcion[:60] }}{% if objeto.descripcion|length > 60
              %}...{% endif %}
            </p>

            <div
              class="mt-auto pt-2 d-flex justify-content-between align-items-center"
            >
              <!-- Precio en el color primario -->
              <span class="h5 fw-bold" style="color: var(--bs-primary)"
                >RD$ {{ "%.2f"|format(objeto.precio) }}
                <span class="small text-muted">/ día</span></span
              >
            </div>
          </div>
          <div class="card-footer bg-white border-top-0 p-3">
            <a
              href="{{ url_for('objetos.detalle_objeto', id=objeto.id_objeto) }}"
              class="btn btn-outline-primary w-100 fw-bold"
            >
              Ver Detalles
            </a>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>

    <div class="text-center mt-5">
      <a
        href="{{ url_for('objetos.listar_objetos') }}"
        class="btn btn-outline-secondary btn-lg rounded-pill px-5 py-3"
      >
        Ver Todo el Catálogo <i class="fa-solid fa-arrow-right ms-2"></i>
      </a>
    </div>
    {% else %}
    <div class="text-center py-5">
      <i class="fa-solid fa-inbox display-1 text-muted opacity-50"></i>
      <h3 class="text-muted mt-3">
        ¡Estamos empezando! No hay objetos disponibles.
      </h3>
      {% if current_user.is_authenticated %}
      <p class="text-muted">
        Sé el primero en publicar un objeto y gana dinero extra.
      </p>
      <a
        href="{{ url_for('objetos.crear_objeto') }}"
        class="btn btn-main-action btn-lg mt-3"
      >
        Publicar Mi Primer Objeto
      </a>
      {% endif %}
    </div>
    {% endif %}
  </div>
</section>

<!-- SECCIÓN: CÓMO FUNCIONA (Opcional - para llenar la página) -->
<section class="py-5">
  <div class="container text-center">
    <h2 class="mb-4 fw-bold">¿Cómo funciona Rentflow?</h2>
    <p class="text-muted mb-5">
      Alquilar es fácil y seguro en 3 simples pasos.
    </p>

    <div class="row g-4">
      <div class="col-md-4">
        <div class="p-4 rounded-3 bg-white shadow-sm h-100">
          <i
            class="fa-solid fa-magnifying-glass fa-2x mb-3"
            style="color: var(--bs-primary)"
          ></i>
          <h5 class="fw-bold">1. Encuentra</h5>
          <p class="small text-muted mb-0">
            Busca el objeto que necesitas en tu ubicación y revisa la
            disponibilidad.
          </p>
        </div>
      </div>
      <div class="col-md-4">
        <div class="p-4 rounded-3 bg-white shadow-sm h-100">
          <i
            class="fa-solid fa-calendar-check fa-2x mb-3"
            style="color: var(--bs-primary)"
          ></i>
          <h5 class="fw-bold">2. Reserva</h5>
          <p class="small text-muted mb-0">
            Acuerda la fecha con el propietario y confirma tu reserva con pago
            seguro.
          </p>
        </div>
      </div>
      <div class="col-md-4">
        <div class="p-4 rounded-3 bg-white shadow-sm h-100">
          <i
            class="fa-solid fa-handshake fa-2x mb-3"
            style="color: var(--bs-primary)"
          ></i>
          <h5 class="fw-bold">3. Disfruta</h5>
          <p class="small text-muted mb-0">
            Recoge y utiliza el objeto. Devuélvelo a tiempo y déjanos tu
            valoración.
          </p>
        </div>
      </div>
    </div>
  </div>
</section>

{% endblock %}
